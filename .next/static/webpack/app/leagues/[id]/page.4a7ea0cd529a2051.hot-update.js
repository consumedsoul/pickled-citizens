"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/leagues/[id]/page",{

/***/ "(app-pages-browser)/./app/leagues/[id]/page.tsx":
/*!***********************************!*\
  !*** ./app/leagues/[id]/page.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LeagueMembersPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction LeagueMembersPage() {\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const leagueId = params === null || params === void 0 ? void 0 : params.id;\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [league, setLeague] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [members, setMembers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [emailInput, setEmailInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let active = true;\n        async function load() {\n            if (!leagueId) return;\n            setLoading(true);\n            setError(null);\n            const { data: userData, error: userError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.auth.getUser();\n            if (!active) return;\n            if (userError || !userData.user) {\n                router.replace(\"/\");\n                return;\n            }\n            const user = userData.user;\n            const { data: leagueData, error: leagueError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"leagues\").select(\"id, name, owner_id\").eq(\"id\", leagueId).maybeSingle();\n            if (!active) return;\n            if (leagueError || !leagueData) {\n                var _leagueError_message;\n                setError((_leagueError_message = leagueError === null || leagueError === void 0 ? void 0 : leagueError.message) !== null && _leagueError_message !== void 0 ? _leagueError_message : \"League not found.\");\n                setLoading(false);\n                return;\n            }\n            if (leagueData.owner_id !== user.id) {\n                setError(\"Only the league owner can manage members.\");\n                setLoading(false);\n                return;\n            }\n            setLeague(leagueData);\n            const { data: memberRows, error: membersError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"league_members\").select(\"user_id, email\").eq(\"league_id\", leagueId).order(\"created_at\", {\n                ascending: true\n            });\n            if (!active) return;\n            if (membersError) {\n                setError(membersError.message);\n            } else if (memberRows) {\n                if (!memberRows.length) {\n                    setMembers([]);\n                } else {\n                    const userIds = memberRows.map((m)=>m.user_id);\n                    const { data: profileRows, error: profilesError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, first_name, last_name, email\").in(\"id\", userIds);\n                    if (profilesError) {\n                        setError(profilesError.message);\n                    } else {\n                        const membersWithNames = memberRows.map((m)=>{\n                            const profile = (profileRows !== null && profileRows !== void 0 ? profileRows : []).find((p)=>p.id === m.user_id);\n                            var _m_email, _ref, _profile_first_name, _profile_last_name;\n                            return {\n                                user_id: m.user_id,\n                                email: (_ref = (_m_email = m.email) !== null && _m_email !== void 0 ? _m_email : profile === null || profile === void 0 ? void 0 : profile.email) !== null && _ref !== void 0 ? _ref : null,\n                                first_name: (_profile_first_name = profile === null || profile === void 0 ? void 0 : profile.first_name) !== null && _profile_first_name !== void 0 ? _profile_first_name : null,\n                                last_name: (_profile_last_name = profile === null || profile === void 0 ? void 0 : profile.last_name) !== null && _profile_last_name !== void 0 ? _profile_last_name : null\n                            };\n                        });\n                        setMembers(membersWithNames);\n                    }\n                }\n            }\n            setLoading(false);\n        }\n        load();\n        return ()=>{\n            active = false;\n        };\n    }, [\n        leagueId,\n        router\n    ]);\n    async function handleAddMember(event) {\n        event.preventDefault();\n        if (!leagueId) return;\n        const email = emailInput.trim().toLowerCase();\n        if (!email) return;\n        setSaving(true);\n        setError(null);\n        const { data: profile, error: profileError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"profiles\").select(\"id, email, first_name, last_name\").eq(\"email\", email).maybeSingle();\n        if (profileError || !profile) {\n            var _profileError_message;\n            setError((_profileError_message = profileError === null || profileError === void 0 ? void 0 : profileError.message) !== null && _profileError_message !== void 0 ? _profileError_message : \"No player found with that email. Ask them to sign up and save their profile first.\");\n            setSaving(false);\n            return;\n        }\n        const { id: userId, email: profileEmail, first_name, last_name } = profile;\n        const { data: insertData, error: insertError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"league_members\").insert({\n            league_id: leagueId,\n            user_id: userId,\n            email: profileEmail !== null && profileEmail !== void 0 ? profileEmail : email\n        }).select(\"user_id, email\").single();\n        if (insertError) {\n            setError(insertError.message);\n        } else if (insertData) {\n            const memberToAdd = {\n                user_id: insertData.user_id,\n                email: insertData.email,\n                first_name,\n                last_name\n            };\n            setMembers((prev)=>{\n                const exists = prev.some((m)=>m.user_id === memberToAdd.user_id);\n                if (exists) return prev;\n                return [\n                    ...prev,\n                    memberToAdd\n                ];\n            });\n            setEmailInput(\"\");\n        }\n        setSaving(false);\n    }\n    async function handleRemoveMember(member) {\n        if (!leagueId) return;\n        setSaving(true);\n        setError(null);\n        const { error: deleteError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"league_members\").delete().eq(\"league_id\", leagueId).eq(\"user_id\", member.user_id);\n        if (deleteError) {\n            setError(deleteError.message);\n            setSaving(false);\n            return;\n        }\n        setMembers((prev)=>prev.filter((m)=>m.user_id !== member.user_id));\n        setSaving(false);\n    }\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"section\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"section-title\",\n                    children: \"League\"\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 212,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"hero-subtitle\",\n                    children: \"Loading league members…\"\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 213,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n            lineNumber: 211,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"section\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"section-title\",\n                    children: \"League\"\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 221,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"hero-subtitle\",\n                    style: {\n                        color: \"#fca5a5\"\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 222,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n            lineNumber: 220,\n            columnNumber: 7\n        }, this);\n    }\n    if (!league) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"section\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"section-title\",\n                    children: \"League\"\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 232,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"hero-subtitle\",\n                    children: \"League not found.\"\n                }, void 0, false, {\n                    fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                    lineNumber: 233,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n            lineNumber: 231,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"section\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"section-title\",\n                children: [\n                    league.name,\n                    \" roster\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                lineNumber: 240,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"hero-subtitle\",\n                children: \"Add or remove authenticated players from this league by email. Players must have already signed up and saved their profile so their email is stored.\"\n            }, void 0, false, {\n                fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                lineNumber: 241,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleAddMember,\n                style: {\n                    marginTop: \"1rem\",\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                    gap: \"0.5rem\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"email\",\n                        placeholder: \"Player email\",\n                        value: emailInput,\n                        onChange: (e)=>setEmailInput(e.target.value),\n                        style: {\n                            flex: \"1 1 220px\",\n                            padding: \"0.45rem 0.6rem\",\n                            borderRadius: \"0.5rem\",\n                            border: \"1px solid #1f2937\",\n                            background: \"#020617\",\n                            color: \"#e5e7eb\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                        lineNumber: 255,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"submit\",\n                        className: \"btn-primary\",\n                        disabled: saving || !emailInput.trim(),\n                        children: saving ? \"Saving…\" : \"Add player\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: \"1.5rem\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"section-title\",\n                        children: \"Members\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                        lineNumber: 279,\n                        columnNumber: 9\n                    }, this),\n                    members.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"hero-subtitle\",\n                        children: \"No members yet.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                        lineNumber: 281,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"section-list\",\n                        style: {\n                            listStyle: \"none\",\n                            paddingLeft: 0\n                        },\n                        children: members.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"space-between\",\n                                    gap: \"0.75rem\",\n                                    padding: \"0.25rem 0\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: (()=>{\n                                            const fullName = [\n                                                member.first_name,\n                                                member.last_name\n                                            ].filter(Boolean).join(\" \");\n                                            var _member_email;\n                                            const email = (_member_email = member.email) !== null && _member_email !== void 0 ? _member_email : \"\";\n                                            return fullName && email ? \"\".concat(fullName, \" (\").concat(email, \")\") : email || fullName || member.user_id;\n                                        })()\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                                        lineNumber: 295,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"btn-secondary\",\n                                        onClick: ()=>handleRemoveMember(member),\n                                        style: {\n                                            borderColor: \"#b91c1c\",\n                                            color: \"#fecaca\"\n                                        },\n                                        children: \"Remove\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                                        lineNumber: 306,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, member.user_id, true, {\n                                fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n                lineNumber: 278,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hun/CascadeProjects/pickled-citizens/app/leagues/[id]/page.tsx\",\n        lineNumber: 239,\n        columnNumber: 5\n    }, this);\n}\n_s(LeagueMembersPage, \"GavtGDjmTFEmhh6fagOLDgakua4=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = LeagueMembersPage;\nvar _c;\n$RefreshReg$(_c, \"LeagueMembersPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9sZWFndWVzL1tpZF0vcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXVEO0FBQ0E7QUFDUDtBQWVqQyxTQUFTSzs7SUFDdEIsTUFBTUMsU0FBU0osMERBQVNBO0lBQ3hCLE1BQU1LLFNBQVNKLDBEQUFTQTtJQUN4QixNQUFNSyxXQUFXRixtQkFBQUEsNkJBQUFBLE9BQVFHLEVBQUU7SUFFM0IsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csUUFBUUMsVUFBVSxHQUFHWiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2QsK0NBQVFBLENBQWdCO0lBRWxELE1BQU0sQ0FBQ2UsUUFBUUMsVUFBVSxHQUFHaEIsK0NBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQ2lCLFNBQVNDLFdBQVcsR0FBR2xCLCtDQUFRQSxDQUFXLEVBQUU7SUFFbkQsTUFBTSxDQUFDbUIsWUFBWUMsY0FBYyxHQUFHcEIsK0NBQVFBLENBQUM7SUFFN0NELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXNCLFNBQVM7UUFFYixlQUFlQztZQUNiLElBQUksQ0FBQ2YsVUFBVTtZQUNmRyxXQUFXO1lBQ1hJLFNBQVM7WUFFVCxNQUFNLEVBQUVTLE1BQU1DLFFBQVEsRUFBRVgsT0FBT1ksU0FBUyxFQUFFLEdBQUcsTUFBTXRCLHlEQUFRQSxDQUFDdUIsSUFBSSxDQUFDQyxPQUFPO1lBQ3hFLElBQUksQ0FBQ04sUUFBUTtZQUViLElBQUlJLGFBQWEsQ0FBQ0QsU0FBU0ksSUFBSSxFQUFFO2dCQUMvQnRCLE9BQU91QixPQUFPLENBQUM7Z0JBQ2Y7WUFDRjtZQUVBLE1BQU1ELE9BQU9KLFNBQVNJLElBQUk7WUFFMUIsTUFBTSxFQUFFTCxNQUFNTyxVQUFVLEVBQUVqQixPQUFPa0IsV0FBVyxFQUFFLEdBQUcsTUFBTTVCLHlEQUFRQSxDQUM1RDZCLElBQUksQ0FBQyxX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QkEsU0FBUzJELFlBQVl0QyxPQUFPN0IsT0FBTzt3Q0FDekM7Ozs7OztrREFFRiw4REFBQ3lEO3dDQUNDWCxNQUFLO3dDQUNMWixXQUFVO3dDQUNWb0MsU0FBUyxJQUFNMUMsbUJBQW1CQzt3Q0FDbENPLE9BQU87NENBQ0xtQyxhQUFhOzRDQUNibEMsT0FBTzt3Q0FDVDtrREFDRDs7Ozs7OzsrQkE1QklSLE9BQU83QixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0NuQztHQWhUd0IxQzs7UUFDUEgsc0RBQVNBO1FBQ1RDLHNEQUFTQTs7O0tBRkZFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9sZWFndWVzL1tpZF0vcGFnZS50c3g/YzM0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIEZvcm1FdmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xuXG50eXBlIExlYWd1ZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBvd25lcl9pZDogc3RyaW5nO1xufTtcblxudHlwZSBNZW1iZXIgPSB7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZyB8IG51bGw7XG4gIGZpcnN0X25hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBsYXN0X25hbWU/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGVhZ3VlTWVtYmVyc1BhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgbGVhZ3VlSWQgPSBwYXJhbXM/LmlkIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbbGVhZ3VlLCBzZXRMZWFndWVdID0gdXNlU3RhdGU8TGVhZ3VlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFttZW1iZXJzLCBzZXRNZW1iZXJzXSA9IHVzZVN0YXRlPE1lbWJlcltdPihbXSk7XG5cbiAgY29uc3QgW2VtYWlsSW5wdXQsIHNldEVtYWlsSW5wdXRdID0gdXNlU3RhdGUoJycpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGFjdGl2ZSA9IHRydWU7XG5cbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgaWYgKCFsZWFndWVJZCkgcmV0dXJuO1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgIGlmICghYWN0aXZlKSByZXR1cm47XG5cbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXJEYXRhLnVzZXIpIHtcbiAgICAgICAgcm91dGVyLnJlcGxhY2UoJy8nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyID0gdXNlckRhdGEudXNlcjtcblxuICAgICAgY29uc3QgeyBkYXRhOiBsZWFndWVEYXRhLCBlcnJvcjogbGVhZ3VlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdsZWFndWVzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIG5hbWUsIG93bmVyX2lkJylcbiAgICAgICAgLmVxKCdpZCcsIGxlYWd1ZUlkKVxuICAgICAgICAubWF5YmVTaW5nbGUoKTtcblxuICAgICAgaWYgKCFhY3RpdmUpIHJldHVybjtcblxuICAgICAgaWYgKGxlYWd1ZUVycm9yIHx8ICFsZWFndWVEYXRhKSB7XG4gICAgICAgIHNldEVycm9yKGxlYWd1ZUVycm9yPy5tZXNzYWdlID8/ICdMZWFndWUgbm90IGZvdW5kLicpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobGVhZ3VlRGF0YS5vd25lcl9pZCAhPT0gdXNlci5pZCkge1xuICAgICAgICBzZXRFcnJvcignT25seSB0aGUgbGVhZ3VlIG93bmVyIGNhbiBtYW5hZ2UgbWVtYmVycy4nKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0TGVhZ3VlKGxlYWd1ZURhdGEgYXMgTGVhZ3VlKTtcblxuICAgICAgY29uc3QgeyBkYXRhOiBtZW1iZXJSb3dzLCBlcnJvcjogbWVtYmVyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGVhZ3VlX21lbWJlcnMnKVxuICAgICAgICAuc2VsZWN0KCd1c2VyX2lkLCBlbWFpbCcpXG4gICAgICAgIC5lcSgnbGVhZ3VlX2lkJywgbGVhZ3VlSWQpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gICAgICBpZiAoIWFjdGl2ZSkgcmV0dXJuO1xuXG4gICAgICBpZiAobWVtYmVyc0Vycm9yKSB7XG4gICAgICAgIHNldEVycm9yKG1lbWJlcnNFcnJvci5tZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAobWVtYmVyUm93cykge1xuICAgICAgICBpZiAoIW1lbWJlclJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgc2V0TWVtYmVycyhbXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkcyA9IChtZW1iZXJSb3dzIGFzIHsgdXNlcl9pZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nIHwgbnVsbCB9W10pLm1hcChcbiAgICAgICAgICAgIChtKSA9PiBtLnVzZXJfaWRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlUm93cywgZXJyb3I6IHByb2ZpbGVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwnKVxuICAgICAgICAgICAgLmluKCdpZCcsIHVzZXJJZHMpO1xuXG4gICAgICAgICAgaWYgKHByb2ZpbGVzRXJyb3IpIHtcbiAgICAgICAgICAgIHNldEVycm9yKHByb2ZpbGVzRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlcnNXaXRoTmFtZXM6IE1lbWJlcltdID0gKG1lbWJlclJvd3MgYXMgYW55W10pLm1hcCgobSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwcm9maWxlID0gKHByb2ZpbGVSb3dzID8/IFtdKS5maW5kKChwKSA9PiBwLmlkID09PSBtLnVzZXJfaWQpO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IG0udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogbS5lbWFpbCA/PyBwcm9maWxlPy5lbWFpbCA/PyBudWxsLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IHByb2ZpbGU/LmZpcnN0X25hbWUgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHByb2ZpbGU/Lmxhc3RfbmFtZSA/PyBudWxsLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRNZW1iZXJzKG1lbWJlcnNXaXRoTmFtZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICBsb2FkKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2xlYWd1ZUlkLCByb3V0ZXJdKTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBZGRNZW1iZXIoZXZlbnQ6IEZvcm1FdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFsZWFndWVJZCkgcmV0dXJuO1xuICAgIGNvbnN0IGVtYWlsID0gZW1haWxJbnB1dC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIWVtYWlsKSByZXR1cm47XG5cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnaWQsIGVtYWlsLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUnKVxuICAgICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxuICAgICAgLm1heWJlU2luZ2xlKCk7XG5cbiAgICBpZiAocHJvZmlsZUVycm9yIHx8ICFwcm9maWxlKSB7XG4gICAgICBzZXRFcnJvcihcbiAgICAgICAgcHJvZmlsZUVycm9yPy5tZXNzYWdlID8/XG4gICAgICAgICAgJ05vIHBsYXllciBmb3VuZCB3aXRoIHRoYXQgZW1haWwuIEFzayB0aGVtIHRvIHNpZ24gdXAgYW5kIHNhdmUgdGhlaXIgcHJvZmlsZSBmaXJzdC4nXG4gICAgICApO1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBpZDogdXNlcklkLFxuICAgICAgZW1haWw6IHByb2ZpbGVFbWFpbCxcbiAgICAgIGZpcnN0X25hbWUsXG4gICAgICBsYXN0X25hbWUsXG4gICAgfSA9IHByb2ZpbGUgYXMge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGVtYWlsOiBzdHJpbmcgfCBudWxsO1xuICAgICAgZmlyc3RfbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGxhc3RfbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgeyBkYXRhOiBpbnNlcnREYXRhLCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbGVhZ3VlX21lbWJlcnMnKVxuICAgICAgLmluc2VydCh7IGxlYWd1ZV9pZDogbGVhZ3VlSWQsIHVzZXJfaWQ6IHVzZXJJZCwgZW1haWw6IHByb2ZpbGVFbWFpbCA/PyBlbWFpbCB9KVxuICAgICAgLnNlbGVjdCgndXNlcl9pZCwgZW1haWwnKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICBzZXRFcnJvcihpbnNlcnRFcnJvci5tZXNzYWdlKTtcbiAgICB9IGVsc2UgaWYgKGluc2VydERhdGEpIHtcbiAgICAgIGNvbnN0IG1lbWJlclRvQWRkOiBNZW1iZXIgPSB7XG4gICAgICAgIHVzZXJfaWQ6IGluc2VydERhdGEudXNlcl9pZCxcbiAgICAgICAgZW1haWw6IGluc2VydERhdGEuZW1haWwsXG4gICAgICAgIGZpcnN0X25hbWUsXG4gICAgICAgIGxhc3RfbmFtZSxcbiAgICAgIH07XG5cbiAgICAgIHNldE1lbWJlcnMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKChtKSA9PiBtLnVzZXJfaWQgPT09IG1lbWJlclRvQWRkLnVzZXJfaWQpO1xuICAgICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldjtcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBtZW1iZXJUb0FkZF07XG4gICAgICB9KTtcbiAgICAgIHNldEVtYWlsSW5wdXQoJycpO1xuICAgIH1cblxuICAgIHNldFNhdmluZyhmYWxzZSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZW1vdmVNZW1iZXIobWVtYmVyOiBNZW1iZXIpIHtcbiAgICBpZiAoIWxlYWd1ZUlkKSByZXR1cm47XG5cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdsZWFndWVfbWVtYmVycycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnbGVhZ3VlX2lkJywgbGVhZ3VlSWQpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCBtZW1iZXIudXNlcl9pZCk7XG5cbiAgICBpZiAoZGVsZXRlRXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGRlbGV0ZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRNZW1iZXJzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobSkgPT4gbS51c2VyX2lkICE9PSBtZW1iZXIudXNlcl9pZCkpO1xuICAgIHNldFNhdmluZyhmYWxzZSk7XG4gIH1cblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5MZWFndWU8L2gxPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJoZXJvLXN1YnRpdGxlXCI+TG9hZGluZyBsZWFndWUgbWVtYmVyc+KApjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+TGVhZ3VlPC9oMT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVyby1zdWJ0aXRsZVwiIHN0eWxlPXt7IGNvbG9yOiAnI2ZjYTVhNScgfX0+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFsZWFndWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+TGVhZ3VlPC9oMT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVyby1zdWJ0aXRsZVwiPkxlYWd1ZSBub3QgZm91bmQuPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPntsZWFndWUubmFtZX0gcm9zdGVyPC9oMT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImhlcm8tc3VidGl0bGVcIj5cbiAgICAgICAgQWRkIG9yIHJlbW92ZSBhdXRoZW50aWNhdGVkIHBsYXllcnMgZnJvbSB0aGlzIGxlYWd1ZSBieSBlbWFpbC4gUGxheWVycyBtdXN0IGhhdmVcbiAgICAgICAgYWxyZWFkeSBzaWduZWQgdXAgYW5kIHNhdmVkIHRoZWlyIHByb2ZpbGUgc28gdGhlaXIgZW1haWwgaXMgc3RvcmVkLlxuICAgICAgPC9wPlxuXG4gICAgICA8Zm9ybVxuICAgICAgICBvblN1Ym1pdD17aGFuZGxlQWRkTWVtYmVyfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIG1hcmdpblRvcDogJzFyZW0nLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgICAgICAgIGdhcDogJzAuNXJlbScsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJQbGF5ZXIgZW1haWxcIlxuICAgICAgICAgIHZhbHVlPXtlbWFpbElucHV0fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RW1haWxJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGZsZXg6ICcxIDEgMjIwcHgnLFxuICAgICAgICAgICAgcGFkZGluZzogJzAuNDVyZW0gMC42cmVtJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzAuNXJlbScsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgIzFmMjkzNycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzAyMDYxNycsXG4gICAgICAgICAgICBjb2xvcjogJyNlNWU3ZWInLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZyB8fCAhZW1haWxJbnB1dC50cmltKCl9XG4gICAgICAgID5cbiAgICAgICAgICB7c2F2aW5nID8gJ1NhdmluZ+KApicgOiAnQWRkIHBsYXllcid9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9mb3JtPlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzEuNXJlbScgfX0+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+TWVtYmVyczwvaDI+XG4gICAgICAgIHttZW1iZXJzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoZXJvLXN1YnRpdGxlXCI+Tm8gbWVtYmVycyB5ZXQuPC9wPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzZWN0aW9uLWxpc3RcIiBzdHlsZT17eyBsaXN0U3R5bGU6ICdub25lJywgcGFkZGluZ0xlZnQ6IDAgfX0+XG4gICAgICAgICAgICB7bWVtYmVycy5tYXAoKG1lbWJlcikgPT4gKFxuICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICBrZXk9e21lbWJlci51c2VyX2lkfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICBnYXA6ICcwLjc1cmVtJyxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwLjI1cmVtIDAnLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmdWxsTmFtZSA9IFttZW1iZXIuZmlyc3RfbmFtZSwgbWVtYmVyLmxhc3RfbmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSBtZW1iZXIuZW1haWwgPz8gJyc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxsTmFtZSAmJiBlbWFpbFxuICAgICAgICAgICAgICAgICAgICAgID8gYCR7ZnVsbE5hbWV9ICgke2VtYWlsfSlgXG4gICAgICAgICAgICAgICAgICAgICAgOiBlbWFpbCB8fCBmdWxsTmFtZSB8fCBtZW1iZXIudXNlcl9pZDtcbiAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVNZW1iZXIobWVtYmVyKX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2I5MWMxYycsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZlY2FjYScsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUGFyYW1zIiwidXNlUm91dGVyIiwic3VwYWJhc2UiLCJMZWFndWVNZW1iZXJzUGFnZSIsInBhcmFtcyIsInJvdXRlciIsImxlYWd1ZUlkIiwiaWQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNhdmluZyIsInNldFNhdmluZyIsImVycm9yIiwic2V0RXJyb3IiLCJsZWFndWUiLCJzZXRMZWFndWUiLCJtZW1iZXJzIiwic2V0TWVtYmVycyIsImVtYWlsSW5wdXQiLCJzZXRFbWFpbElucHV0IiwiYWN0aXZlIiwibG9hZCIsImRhdGEiLCJ1c2VyRGF0YSIsInVzZXJFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwidXNlciIsInJlcGxhY2UiLCJsZWFndWVEYXRhIiwibGVhZ3VlRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsIm1lc3NhZ2UiLCJvd25lcl9pZCIsIm1lbWJlclJvd3MiLCJtZW1iZXJzRXJyb3IiLCJvcmRlciIsImFzY2VuZGluZyIsImxlbmd0aCIsInVzZXJJZHMiLCJtYXAiLCJtIiwidXNlcl9pZCIsInByb2ZpbGVSb3dzIiwicHJvZmlsZXNFcnJvciIsImluIiwibWVtYmVyc1dpdGhOYW1lcyIsInByb2ZpbGUiLCJmaW5kIiwicCIsImVtYWlsIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImhhbmRsZUFkZE1lbWJlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJwcm9maWxlRXJyb3IiLCJ1c2VySWQiLCJwcm9maWxlRW1haWwiLCJpbnNlcnREYXRhIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJsZWFndWVfaWQiLCJzaW5nbGUiLCJtZW1iZXJUb0FkZCIsInByZXYiLCJleGlzdHMiLCJzb21lIiwiaGFuZGxlUmVtb3ZlTWVtYmVyIiwibWVtYmVyIiwiZGVsZXRlRXJyb3IiLCJkZWxldGUiLCJmaWx0ZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsInN0eWxlIiwiY29sb3IiLCJuYW1lIiwiZm9ybSIsIm9uU3VibWl0IiwibWFyZ2luVG9wIiwiZGlzcGxheSIsImZsZXhXcmFwIiwiZ2FwIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImZsZXgiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyIiwiYmFja2dyb3VuZCIsImJ1dHRvbiIsImRpc2FibGVkIiwiaDIiLCJ1bCIsImxpc3RTdHlsZSIsInBhZGRpbmdMZWZ0IiwibGkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJzcGFuIiwiZnVsbE5hbWUiLCJCb29sZWFuIiwiam9pbiIsIm9uQ2xpY2siLCJib3JkZXJDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/leagues/[id]/page.tsx\n"));

/***/ })

});